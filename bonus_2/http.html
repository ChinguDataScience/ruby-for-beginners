<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Ruby for Beginners">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="BEd2YAbpSQrRqU2-5wUifTTzvqTMGLLE269b0JZTfCs" />

    <title>Bonus: HTTP | Ruby for Beginners</title>

    <link href="../assets/stylesheets/monstas-29ea5021.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <nav class="page-nav"><a class="prev" href="/bonus_2/erb.html">
  Previous
</a></nav>
    <nav class="page-nav"><a class="next" href="/bonus_2/rack.html">
  Next
</a></nav>

    <div>
      <nav class="toc">
        <h1>Contents</h1>
        <ul>
  <li>
    <a href="/index.html">
      Ruby For Beginners
    </a>
  </li>
  <li>
    <a href="/preface.html">
      Preface
    </a>
  </li>
  <li>
    <a href="/creation.html">
      Programming is creation
    </a>
  </li>
  <li class="directory">
    <a href="/learning_to_program.html">
      Learning to program
    </a>
    <ul>
      <li>
        <a href="/learning_to_program/learning_modes.html">
          Learning modes
        </a>
      </li>
      <li>
        <a href="/learning_to_program/dont_believe.html">
          Don&rsquo;t believe everything we say
        </a>
      </li>
      <li>
        <a href="/learning_to_program/formatting_code.html">
          Formatting your code
        </a>
      </li>
      <li>
        <a href="/learning_to_program/error_messages.html">
          Reading error messages
        </a>
      </li>
      <li>
        <a href="/learning_to_program/using_google.html">
          Using Google
        </a>
      </li>
    </ul>
  </li>
  <li class="directory">
    <a href="/your_tools.html">
      Your tools
    </a>
    <ul>
      <li>
        <a href="/your_tools/text_editor.html">
          Text Editor
        </a>
      </li>
      <li>
        <a href="/your_tools/terminal.html">
          Terminal
        </a>
      </li>
      <li>
        <a href="/your_tools/ruby_runtime.html">
          Ruby runtime
        </a>
      </li>
      <li>
        <a href="/your_tools/workflow.html">
          Programming workflow
        </a>
      </li>
      <li>
        <a href="/your_tools/irb.html">
          Interactive Ruby
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/object_oriented_programming.html">
      Object-oriented programming
    </a>
  </li>
  <li class="directory">
    <a href="/built_in_classes.html">
      Built-in classes
    </a>
    <ul>
      <li>
        <a href="/built_in_classes/numbers.html">
          Numbers
        </a>
      </li>
      <li>
        <a href="/built_in_classes/strings.html">
          Strings
        </a>
      </li>
      <li>
        <a href="/built_in_classes/symbols.html">
          Symbols
        </a>
      </li>
      <li>
        <a href="/built_in_classes/arrays.html">
          Arrays
        </a>
      </li>
      <li>
        <a href="/built_in_classes/hashes.html">
          Hashes
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/variables.html">
      Variables
    </a>
  </li>
  <li class="directory">
    <a href="/methods.html">
      Methods
    </a>
    <ul>
      <li>
        <a href="/methods/return_values.html">
          Return values
        </a>
      </li>
      <li>
        <a href="/methods/parentheses.html">
          Parentheses
        </a>
      </li>
      <li>
        <a href="/methods/writing_methods.html">
          Writing a new method
        </a>
      </li>
      <li>
        <a href="/methods/control_flow.html">
          Flow of execution
        </a>
      </li>
      <li>
        <a href="/methods/scopes.html">
          Scopes
        </a>
      </li>
      <li>
        <a href="/methods/printing.html">
          Printing things
        </a>
      </li>
    </ul>
  </li>
  <li class="directory">
    <a href="/everything_an_object.html">
      Everything is an object
    </a>
    <ul>
      <li>
        <a href="/everything_an_object/object_classes.html">
          Objects have classes
        </a>
      </li>
      <li>
        <a href="/everything_an_object/object_methods.html">
          Calling methods
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/string_interpolation.html">
      String interpolation
    </a>
  </li>
  <li>
    <a href="/nothing_and_truth.html">
      Nothingness and the truth
    </a>
  </li>
  <li class="directory">
    <a href="/blocks.html">
      Blocks
    </a>
    <ul>
      <li>
        <a href="/blocks/block_syntax.html">
          Alternative block syntaxes
        </a>
      </li>
      <li>
        <a href="/blocks/block_arguments.html">
          Block arguments
        </a>
      </li>
      <li>
        <a href="/blocks/block_return_values.html">
          Block return values
        </a>
      </li>
    </ul>
  </li>
  <li class="directory">
    <a href="/bonus_1.html">
      Bonus: Methods &amp; Operators
    </a>
    <ul>
      <li>
        <a href="/bonus_1/operator_methods.html">
          Operators are methods
        </a>
      </li>
      <li>
        <a href="/bonus_1/predicate_methods.html">
          Predicate methods
        </a>
      </li>
      <li>
        <a href="/bonus_1/other_methods.html">
          Lots of other methods
        </a>
      </li>
      <li>
        <a href="/bonus_1/questions_commands.html">
          Questions and commands
        </a>
      </li>
      <li>
        <a href="/bonus_1/conditionals.html">
          Conditionals
        </a>
      </li>
      <li>
        <a href="/bonus_1/operators.html">
          Operators
        </a>
      </li>
      <li>
        <a href="/bonus_1/arithmetical_operators.html">
          Arithmetical operators
        </a>
      </li>
      <li>
        <a href="/bonus_1/logical_operators.html">
          Logical operators
        </a>
      </li>
      <li>
        <a href="/bonus_1/comparison_operators.html">
          Comparison operators
        </a>
      </li>
      <li>
        <a href="/bonus_1/alternative-syntax.html">
          Alternative Syntax
        </a>
      </li>
    </ul>
  </li>
  <li class="directory">
    <a href="/writing_classes.html">
      Writing classes
    </a>
    <ul>
      <li>
        <a href="/writing_classes/initializing_objects.html">
          Initializing objects
        </a>
      </li>
      <li>
        <a href="/writing_classes/instance_variables.html">
          Instance variables
        </a>
      </li>
      <li>
        <a href="/writing_classes/attribute_readers.html">
          Attribute readers
        </a>
      </li>
      <li>
        <a href="/writing_classes/attribute_writers.html">
          Attribute writers
        </a>
      </li>
      <li>
        <a href="/writing_classes/state_and_behaviour.html">
          State and behaviour
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/good_names.html">
      Using the right words
    </a>
  </li>
  <li class="directory expanded">
    <a href="/bonus_2.html">
      Bonus: Advanced Topics
    </a>
    <ul>
      <li>
        <a href="/bonus_2/libraries.html">
          Bonus: Using Libraries (1)
        </a>
      </li>
      <li>
        <a href="/bonus_2/modules.html">
          Bonus: Modules
        </a>
      </li>
      <li>
        <a href="/bonus_2/private_methods.html">
          Bonus: Private methods
        </a>
      </li>
      <li>
        <a href="/bonus_2/libraries_2.html">
          Bonus: Using Libraries (2)
        </a>
      </li>
      <li>
        <a href="/bonus_2/html.html">
          Bonus: HTML
        </a>
      </li>
      <li>
        <a href="/bonus_2/erb.html">
          Bonus: Embedded Ruby
        </a>
      </li>
      <li class="active">
        <a href="/bonus_2/http.html">
          Bonus: HTTP
        </a>
      </li>
      <li>
        <a href="/bonus_2/rack.html">
          Bonus: Rack
        </a>
      </li>
    </ul>
  </li>
  <li class="directory">
    <a href="/exercises.html">
      Exercises
    </a>
    <ul>
      <li>
        <a href="/exercises/numbers.html">
          Working with Numbers
        </a>
      </li>
      <li>
        <a href="/exercises/strings.html">
          Working with Strings
        </a>
      </li>
      <li>
        <a href="/exercises/arrays_1.html">
          Working with Arrays (1)
        </a>
      </li>
      <li>
        <a href="/exercises/hashes_1.html">
          Working with Hashes (1)
        </a>
      </li>
      <li>
        <a href="/exercises/methods_1.html">
          Defining methods
        </a>
      </li>
      <li>
        <a href="/exercises/arrays_2.html">
          Working with Arrays (2)
        </a>
      </li>
      <li>
        <a href="/exercises/nested_arrays.html">
          Working with Nested Arrays
        </a>
      </li>
      <li>
        <a href="/exercises/hashes_2.html">
          Working with Hashes (2)
        </a>
      </li>
      <li>
        <a href="/exercises/truthiness.html">
          Truthiness
        </a>
      </li>
      <li>
        <a href="/exercises/email.html">
          The Email Class
        </a>
      </li>
      <li>
        <a href="/exercises/mailbox.html">
          The Mailbox Class
        </a>
      </li>
      <li>
        <a href="/exercises/mailbox_text.html">
          The Mailbox Text Formatter
        </a>
      </li>
      <li>
        <a href="/exercises/mailbox_html.html">
          The Mailbox Html Formatter
        </a>
      </li>
      <li>
        <a href="/exercises/mailbox_file.html">
          Storing our HTML to a File
        </a>
      </li>
      <li>
        <a href="/exercises/mailbox_csv.html">
          Reading from a CSV File
        </a>
      </li>
      <li>
        <a href="/exercises/mailbox_erb.html">
          Generating HTML using ERB
        </a>
      </li>
      <li>
        <a href="/exercises/mailbox_sinatra.html">
          Serving HTML using Sinatra
        </a>
      </li>
      <li>
        <a href="/exercises/rubygems.html">
          Using Rubygems
        </a>
      </li>
      <li>
        <a href="/exercises/bundler.html">
          Using Bundler
        </a>
      </li>
    </ul>
  </li>
</ul>
      </nav>
      <article>
        <nav class="menu"><a href="#"></a></nav>
        <h1>Bonus: HTTP</h1>

<p>When computers talk to each other all they do is send around messages. You can
think of these as simple text messages, most of the time. They may be
encrypted, they may have some binary content attached to them (such as an
image, or a movie), but essentially they&rsquo;re just text messages.</p>

<p>When you open your browser, type a URL into the addressbar, and hit return,
your browser will send a text message to another computer, which is associated
with the hostname that is part of your URL. The computer on the other side
will receive this message (called the request), and send another message back
(called the response).</p>

<p>For example, when you go to
<a href="http://rubymonstas.org/location.html"><a href="http://rubymonstas.org/location.html">http://rubymonstas.org/location.html</a></a>
this is (a simplified version of) the request that is going to be sent by your
browser:</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/location.html</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">rubymonstas.org</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">Mozilla/5.0</span>
</code></pre>

<p>The webserver that hosts our homepage then looks up the content of that web
page, and sends another message back to your browser, containing this content:</p>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html</span>

<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Ruby Monstas - Where we meet<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;head&gt;</span>
  ...
<span class="nt">&lt;/html&gt;</span>
</code></pre>

<p>That&rsquo;s it, essentially. Your browser will extract the HTML that is sent as the
body of the message, and display it.</p>

<p>Let&rsquo;s look at the request and response in more detail. What does all of this
stuff mean, exactly?</p>

<p>HTTP defines that the first line of a request must contain three bits: a
<strong>verb</strong>, a <strong>resource</strong>, and the version of the protocol. Out of these, we
only really care about the first two bits, the version is only relevant in way
more advanced contexts.</p>

<p>The <strong>verb</strong>, also called the &ldquo;method&rdquo;, defines an operation. <code>GET</code> of course
means just that: <em>&ldquo;Get me this thing, please.&rdquo;</em> The &ldquo;thing&rdquo; we&rsquo;re looking for
is defined by the second bit on this line: the <strong>resource</strong>, also called the
path. In our case that&rsquo;s a web page, i.e. some HTML.</p>

<p>Other common verbs are <a href="#footnote-1">[1]</a></p>

<ul>
<li><code>POST</code> means (in modern web applications, such as Rails applications):
<em>&ldquo;Create a new instance of the resource, using this data.&rdquo;</em> (E.g. <code>POST</code> to
<code>/users</code> means: create a new user.)</li>
<li><code>PUT</code> means: update the instance with this new data. E.g. <code>PUT</code> to <code>/users/1</code>
means: for the user (with the id) <code>1</code>, update their attributes with the given
data.</li>
<li>And <code>DELETE</code> means what you think it does. E.g. <code>DELETE</code> to <code>/users/1</code> means:
Delete the user (with the id) <code>1</code>.</li>
</ul>

<p>HTTP also defines that after this first line there may come any number of
headers, i.e. key/value pairs, containing meta information about the request.
In our example these are the hostname that was used in the URL, and the
(simplified) name of the browser that was used to send the request. Both of
these actually are mostly for information, and not a core part of the request.</p>

<p>Now, let&rsquo;s have a look at the response.</p>

<p>Again, HTTP defines that on the first line there need to be three bits of
information: The HTTP version number, a status code number, and a status
description. And again, we can just ignore the version number.</p>

<p>The status code is a way for the responding server to tell our browser what
<em>type of response</em> this is. Here are some common examples:</p>

<ul>
<li><code>200 OK</code> means: Everything&rsquo;s cool, here&rsquo;s the thing you were looking for.</li>
<li><code>301 Moved Permanently</code> means: The thing you are looking for does not exist
here any more. Here&rsquo;s the place where it has been moved to, look over there.</li>
<li><code>404 Not Found</code> means: Dunno, this thing does not exist.</li>
<li><code>500 Internal Server Error</code> means: Ouch, I have run into an internal error on
my side.</li>
</ul>

<p>There are lots of other status codes that servers can respond with, here&rsquo;s
<a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">a list</a>.
Many of them are very rarely used, and maybe the funniest one is <code>418 I&#39;m a
teapot</code>.</p>

<p>Anyhow. The status code indicates the type of response, and most of the time,
for most <code>GET</code> requests, it will be <code>200 OK</code>.</p>

<p>On the following lines, again, there can be key/value pairs that contain
meta information about the response. In our case it says that the content
type of the body is <code>text/html</code> (which just means it&rsquo;s HTML).</p>

<p>Now, when there&rsquo;s a body on a request (sometimes requests come with a body,
too) or response (as in our example), then it needs to be separated from
the header with an extra, blank line. This tells the browser that we&rsquo;re
done with the headers, and the rest of the message is the response body
(the actual content).</p>

<p>To summarize:</p>

<ul>
<li>A request has, on its first line, a verb (method) and a resource (path). A
response has, on its first line, a status code and description.</li>
<li>Both requests and responses can have any number of header key/value pairs
that contain meta information.</li>
<li>And both requests and responses can include a body, which needs to be
separated from the headers with an extra, blank line.</li>
</ul>

<p>There is, of course, a <em>lot</em> more to say about HTTP, but these are the
essentials of how computers talk to each other when they speak HTTP, as
browsers and webservers do. And these also are the basics of what you need
to know in order to build a simple web application, receive requests, and
send back responses.</p>

<p>If you are interested in more details, here is a
<a href="https://speakerdeck.com/rkh/http-rubymonsters-edition">presentation</a>
that Konstantin Haase, maintainer of Sinatra, gave for Ruby Monstas in early
2015. Also, the
<a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">Wikipedia page about HTTP</a>
is an interesting read.</p>

<p>Footnotes:</p>

<p><a name="footnote-1">[1]</a> There&rsquo;s a lot more to be said about HTTP verbs than
this, and some developers might argue that these explanations are wrong. Let&rsquo;s
say these verbs mean these things in applications like Rails applications.
The HTTP standard defines these verbs in more abstract, and generic terms,
while Rails has its own, and more practical definition of these HTTP verbs.</p>

<p>E.g. <code>POST</code> actually means more &ldquo;do whatevery you think is right&rdquo; in terms
of the HTTP specification, while in the context of Rails it means &ldquo;create this
thing&rdquo;.</p>

<p>For us, in praxis, for the time being, it is enough to remember that <code>GET</code>
means &ldquo;get&rdquo;, <code>POST</code> means &ldquo;create&rdquo;, <code>PUT</code> means &ldquo;update&rdquo;, and <code>DELETE</code> means
&ldquo;delete&rdquo;.</p>

        <nav class="page-nav"><a class="prev" href="/bonus_2/erb.html">
  Previous
</a></nav>
        <nav class="page-nav"><a class="next" href="/bonus_2/rack.html">
  Next
</a></nav>
      </article>
    </div>

    <footer>
      <ul>
        <li><a href="http://rubymonstas.org">Ruby Monstas</a></li>
        <li><a href="mailto:ruby.monsters@gmail.com">Email</a></li>
        <li><a href="https://twitter.com/rubymonsters">Twitter</a></li>
        <li><a href="https://github.com/rubymonsters">GitHub</a></li>
        <li><a href="https://creativecommons.org/licenses/by-sa/2.0/" rel="license cc:license">License</a></li>
        <li><a href="http://foundation.travis-ci.org/imprint/">Imprint</a></li>
      </ul>
    </footer>

    <script src="../assets/javascripts/modernizr-4c875d94.js" type="text/javascript"></script>
    <script src="../assets/javascripts/monstas-e84d6217.js" type="text/javascript"></script>
  </body>
</html>
