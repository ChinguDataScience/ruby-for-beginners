<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Bonus: Modules | Ruby for Beginners</title>

    <link href="../assets/stylesheets/monstas-8dc24db3.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <nav class="page-nav"><a href="/14-bonus_2/01-libraries.html" class="prev">Previous</a></nav>
    <nav class="page-nav"><a href="/14-bonus_2/03-private_methods.html" class="next">Next</a></nav>

    <div>
      <nav class="toc">
        <h1>Contents</h1>
        <ul>
  <li><a href="/index.html">Ruby For Beginners</a></li>
  <li><a href="/01-preface.html">Preface</a></li>
  <li><a href="/02-creation.html">Programming is creation</a></li>
  <li class="directory"><a href="/03-learning_to_program.html">Learning to program</a>
  <ul>
      <li><a href="/03-learning_to_program/01-learning_modes.html">Learning modes</a></li>
      <li><a href="/03-learning_to_program/02-dont_believe.html">Don&rsquo;t believe everything we say</a></li>
      <li><a href="/03-learning_to_program/03-formatting_code.html">Formatting your code</a></li>
      <li><a href="/03-learning_to_program/04-error_messages.html">Reading error messages</a></li>
      <li><a href="/03-learning_to_program/05-using_google.html">Using Google</a></li>
  </ul></li>
  <li class="directory"><a href="/04-your_tools.html">Your tools</a>
  <ul>
      <li><a href="/04-your_tools/01-text_editor.html">Text Editor</a></li>
      <li><a href="/04-your_tools/02-terminal.html">Terminal</a></li>
      <li><a href="/04-your_tools/03-ruby_runtime.html">Ruby runtime</a></li>
      <li><a href="/04-your_tools/04-workflow.html">Programming workflow</a></li>
      <li><a href="/04-your_tools/05-irb.html">Interactive Ruby</a></li>
  </ul></li>
  <li><a href="/05-object_oriented_programming.html">Object-oriented programming</a></li>
  <li class="directory"><a href="/06-built_in_classes.html">Built-in classes</a>
  <ul>
      <li><a href="/06-built_in_classes/01-numbers.html">Numbers</a></li>
      <li><a href="/06-built_in_classes/02-strings.html">Strings</a></li>
      <li><a href="/06-built_in_classes/03-symbols.html">Symbols</a></li>
      <li><a href="/06-built_in_classes/04-arrays.html">Arrays</a></li>
      <li><a href="/06-built_in_classes/05-hashes.html">Hashes</a></li>
  </ul></li>
  <li><a href="/07-variables.html">Variables</a></li>
  <li class="directory"><a href="/08-methods.html">Methods</a>
  <ul>
      <li><a href="/08-methods/01-return_values.html">Return values</a></li>
      <li><a href="/08-methods/02-parentheses.html">Parentheses</a></li>
      <li><a href="/08-methods/03-writing_methods.html">Writing a new method</a></li>
      <li><a href="/08-methods/04-control_flow.html">Flow of execution</a></li>
      <li><a href="/08-methods/05-scopes.html">Scopes</a></li>
      <li><a href="/08-methods/06-printing.html">Printing things</a></li>
  </ul></li>
  <li class="directory"><a href="/09-everything_an_object.html">Everything is an object</a>
  <ul>
      <li><a href="/09-everything_an_object/01-object_classes.html">Objects have classes</a></li>
      <li><a href="/09-everything_an_object/02-object_methods.html">Calling methods</a></li>
  </ul></li>
  <li><a href="/10-string_interpolation.html">String interpolation</a></li>
  <li class="directory"><a href="/11-blocks.html">Blocks</a>
  <ul>
      <li><a href="/11-blocks/01-block_syntax.html">Alternative block syntaxes</a></li>
      <li><a href="/11-blocks/02-block_arguments.html">Block arguments</a></li>
      <li><a href="/11-blocks/03-block_return_values.html">Block return values</a></li>
  </ul></li>
  <li class="directory"><a href="/12-bonus_1.html">Bonus: Methods &amp; Operators</a>
  <ul>
      <li><a href="/12-bonus_1/01-operator_methods.html">Operators are methods</a></li>
      <li><a href="/12-bonus_1/02-predicate_methods.html">Predicate methods</a></li>
      <li><a href="/12-bonus_1/03-other_methods.html">Lots of other methods</a></li>
      <li><a href="/12-bonus_1/04-questions_commands.html">Questions and commands</a></li>
      <li><a href="/12-bonus_1/05-conditionals.html">Conditionals</a></li>
      <li><a href="/12-bonus_1/06-operators.html">Operators</a></li>
      <li><a href="/12-bonus_1/07-arithmetical_operators.html">Arithmetical operators</a></li>
      <li><a href="/12-bonus_1/08-logical_operators.html">Logical operators</a></li>
      <li><a href="/12-bonus_1/09-comparison_operators.html">Comparison operators</a></li>
      <li><a href="/12-bonus_1/10-nothing_and_truth.html">Nothingness and the truth</a></li>
  </ul></li>
  <li class="directory"><a href="/13-writing_classes.html">Writing classes</a>
  <ul>
      <li><a href="/13-writing_classes/01-initializing_objects.html">Initializing objects</a></li>
      <li><a href="/13-writing_classes/02-instance_variables.html">Instance variables</a></li>
      <li><a href="/13-writing_classes/03-attribute_readers.html">Attribute readers</a></li>
      <li><a href="/13-writing_classes/04-attribute_writers.html">Attribute writers</a></li>
      <li><a href="/13-writing_classes/05-state_and_behaviour.html">State and behaviour</a></li>
  </ul></li>
  <li class="directory expanded"><a href="/14-bonus_2.html">Bonus: Advanced Topics</a>
  <ul>
      <li><a href="/14-bonus_2/01-libraries.html">Bonus: Using Libraries</a></li>
      <li class="active"><a href="/14-bonus_2/02-modules.html">Bonus: Modules</a></li>
      <li><a href="/14-bonus_2/03-private_methods.html">Bonus: Private methods</a></li>
  </ul></li>
  <li><a href="/15-good_names.html">Using the right words</a></li>
  <li class="directory"><a href="/16-exercises.html">Exercises</a>
  <ul>
      <li><a href="/16-exercises/01-numbers.html">Working with Numbers</a></li>
      <li><a href="/16-exercises/02-strings.html">Working with Strings</a></li>
      <li><a href="/16-exercises/03-arrays_1.html">Working with Arrays (1)</a></li>
      <li><a href="/16-exercises/04-hashes_1.html">Working with Hashes (1)</a></li>
      <li><a href="/16-exercises/05-methods_1.html">Defining methods</a></li>
      <li><a href="/16-exercises/06-arrays_2.html">Working with Arrays (2)</a></li>
      <li><a href="/16-exercises/07-nested_arrays.html">Working with Nested Arrays</a></li>
      <li><a href="/16-exercises/08-hashes_2.html">Working with Hashes (2)</a></li>
      <li><a href="/16-exercises/09-truthiness.html">Truthiness</a></li>
      <li><a href="/16-exercises/10-email.html">The Email Class</a></li>
      <li><a href="/16-exercises/11-mailbox.html">The Mailbox Class</a></li>
      <li><a href="/16-exercises/12-mailbox_text.html">The Mailbox Text Formatter</a></li>
      <li><a href="/16-exercises/13-mailbox_html.html">The Mailbox Html Formatter</a></li>
      <li><a href="/16-exercises/14-mailbox_file.html">Storing our HTML to a File</a></li>
      <li><a href="/16-exercises/15-mailbox_csv.html">Reading from a CSV File</a></li>
      <li><a href="/16-exercises/16-mailbox_erb.html">Generating HTML using ERB</a></li>
      <li><a href="/16-exercises/17-mailbox_sinatra.html">Serving HTML using Sinatra</a></li>
  </ul></li>
</ul>
      </nav>
      <article>
        <nav class="menu"><a href="#"></a></nav>
        <h1>Bonus: Modules</h1>

<p>It now makes sense to introduce another language feature in Ruby: modules.</p>

<p>In Ruby, modules are somewhat similar to classes: they are things that hold
methods, just like classes do. However, modules can not be instantiated. I.e.,
it is not possible to create objects from it. And modules, unlike classes,
therefore do not have a method <code>new</code>.</p>

<p>So, what are modules useful for?</p>

<p>Modules can be included into classes, and this makes their methods available on
the class, just as if we&rsquo;d copied and pasted these methods over to the class
definition.</p>

<p>This is useful if we have methods that we want to reuse in certain classes, but
also want to keep them in a central place, so we do not have to repeat them
everywhere.</p>

<p>Let&rsquo;s have a look at this pretty artificial code:</p>
<pre class="highlight ruby"><code><span class="k">module</span> <span class="nn">Cream</span>
  <span class="k">def</span> <span class="nf">cream?</span>
    <span class="kp">true</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Cookie</span>
  <span class="kp">include</span> <span class="no">Cream</span>
<span class="k">end</span>

<span class="n">cookie</span> <span class="o">=</span> <span class="no">Cookie</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> <span class="n">cookie</span><span class="p">.</span><span class="nf">cream?</span>
</code></pre>

<p>We still haven&rsquo;t been able to come up with a better minimal example of a module
and class that makes more sense than this. And we fully admit that this code
is rather weird. However, it&rsquo;s good enough to quickly explain how modules work :)</p>

<p>If you run this code it will output <code>true</code>. Why is that?</p>

<p>The method <code>cream?</code> is defined on the module <code>Cream</code>, and all it does is always
return the value <code>true</code>. Now, this module is included into the class <code>Cookie</code>.
So, if we now instantiate a cookie, we can call the method <code>cream?</code> on it,
and it will return the value <code>true</code>.</p>

<p>Cool. Let&rsquo;s move on and use this for our <code>Person</code> class, which will hopefully
then make more sense.</p>

<p>Let&rsquo;s assume that our application has other classes that need to encrypt things.
And we want to keep the exact way <em>how</em> we encrypt things, the <em>implementation</em>
in one single place.</p>

<p>Why would we want to do that?</p>

<ul>
<li>One reason could be that, when we want to switch to a different way of
encrypting things (maybe use a stronger encryption algorithm), we would then
only need to change it in this one place, in our module, and be done with it.</li>
<li>Another reason could be that we want the encryption algorithm to be somehow
configurable, for example in a configuration file that our application reads.
This would then require additional logic, that we would not want to duplicate
across all the places where we need to encrypt something: we&rsquo;d want all this
to be kept in a central place.</li>
<li>Another, much simpler, but sometimes also valid reason could be that we
simply want to move some clutter out of sight, and hide it away in another
file: so we can focus on what our <code>Person</code> class does, instead of having to
look at the nitty-gritty details of how exactly we encrypt things.</li>
</ul>

<p>Anyhow. Here&rsquo;s how we can create a meaningful module for our application,
and then use it in the class <code>Person</code>:</p>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'digest'</span>

<span class="k">module</span> <span class="nn">Encryption</span>
  <span class="k">def</span> <span class="nf">encrypt</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="no">Digest</span><span class="o">::</span><span class="no">SHA2</span><span class="p">.</span><span class="nf">hexdigest</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Person</span>
  <span class="n">inclue</span> <span class="no">Encryption</span>

  <span class="c1"># ...</span>

  <span class="k">def</span> <span class="nf">encrypted_password</span>
    <span class="n">encrypt</span><span class="p">(</span><span class="vi">@password</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Ada"</span><span class="p">)</span>
<span class="n">person</span><span class="p">.</span><span class="nf">password</span> <span class="o">=</span> <span class="s2">"super secret"</span>
<span class="nb">puts</span> <span class="n">person</span><span class="p">.</span><span class="nf">encrypted_password</span>
</code></pre>

<p>If you run this code, it will print out the same, encrypted version of the
password: cool, that&rsquo;s what we want.</p>

<p>We have moved the noisy details of the encryption algorithm to a module, and
then included the module to the class <code>Person</code>. This, at the very least, makes
the method <code>encrypted_password</code> much easier to read. Doesn&rsquo;t it?</p>

<p>We refer to the process of moving some logic (code) from one method to another,
new method as &ldquo;extracting a method&rdquo;. In our case we have extracted the method
<code>encrypt</code> from the method <code>encrypt_password</code>. When we do this, methods usually become
shorter and more readable.</p>

        <nav class="page-nav"><a href="/14-bonus_2/01-libraries.html" class="prev">Previous</a></nav>
        <nav class="page-nav"><a href="/14-bonus_2/03-private_methods.html" class="next">Next</a></nav>
      </article>
    </div>

    <footer>
      <ul>
        <li><a href="http://rubymonstas.org">Ruby Monstas</a></li>
        <li><a href="mailto:ruby.monsters@gmail.com">Email</a></li>
        <li><a href="https://twitter.com/rubymonsters">Twitter</a></li>
        <li><a href="https://github.com/rubymonsters">GitHub</a></li>
        <li><a href="https://creativecommons.org/licenses/by-sa/2.0/" rel="license cc:license">License</a></li>
        <li><a href="http://foundation.travis-ci.org/imprint/">Imprint</a></li>
      </ul>
    </footer>

    <script src="../assets/javascripts/modernizr-4c875d94.js" type="text/javascript"></script>
    <script src="../assets/javascripts/monstas-cdce19f4.js" type="text/javascript"></script>
  </body>
</html>
